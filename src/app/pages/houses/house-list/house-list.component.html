
<main>

  <!--Table houses-->
  <section title="table" class="mat-elevation-z8 rounded-container">

    <h2>Houses</h2>

    <a mat-raised-button color="primary" routerLink="/new">
      New
    </a>

    <!-- filters -->
    <header title="filters">
      <mat-form-field hintLabel="search in all fields" >
        <mat-label>Search</mat-label>
        <input matInput #input type="search" (input)="onChangeFilter()">
        <mat-icon matSuffix>search</mat-icon>
      </mat-form-field>
    </header>

    <!-- Table -->
    <table mat-table [dataSource]="dataSource" fixedLayout color="primary">

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>

      <!-- Address Column-->
      <ng-container matColumnDef="address">
        <th mat-header-cell *matHeaderCellDef> Address </th>
        <td mat-cell *matCellDef="let element"> {{element.address}} </td>
      </ng-container>

      <!-- Cost Column -->
      <ng-container matColumnDef="costPerMonth">
        <th mat-header-cell *matHeaderCellDef> Cost per month </th>
        <td mat-cell *matCellDef="let element"> {{element.costPerMonth}}€ </td>
      </ng-container>

      <!-- Deposit Column -->
      <ng-container matColumnDef="deposit">
        <th mat-header-cell *matHeaderCellDef> Deposit </th>
        <td mat-cell *matCellDef="let element"> {{element.deposit}}€ </td>
      </ng-container>

      <!-- Mq Column -->
      <ng-container matColumnDef="mq">
        <th mat-header-cell *matHeaderCellDef> Mq. </th>
        <td mat-cell *matCellDef="let element"> {{element.mq}} </td>
      </ng-container>

      <!-- DateCreated -->
      <ng-container matColumnDef="dateCreated">
        <th mat-header-cell *matHeaderCellDef> Created. </th>
        <td mat-cell *matCellDef="let element"> {{element.dateCreated.toLocaleString()}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = index" [routerLink]="[i]" routerLinkActive="active"></tr>
    </table>

    <!-- Pagination -->
    <mat-paginator
      [length]="(dataSource.data | async)?.length"
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      aria-label="Select page of houses">
    </mat-paginator>

  </section>

  <!-- Sliders -->
  <aside title="sliders" *ngIf="showEditComponent" class="mat-elevation-z8 rounded-container">
    <router-outlet></router-outlet>
  </aside>

</main>
